{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrador\\\\source\\\\repos\\\\eventos_sfco\\\\frontend\\\\src\\\\components\\\\Scanner.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { BrowserMultiFormatReader } from '@zxing/library';\nimport axios from 'axios';\nimport { Button, Container, Row, Col, Card, Alert, Spinner } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../styles/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Scanner() {\n  _s();\n  const {\n    eventId\n  } = useParams();\n  const [decodedInfo, setDecodedInfo] = useState(null);\n  const [documentMatch, setDocumentMatch] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [userInfo, setUserInfo] = useState({\n    nombre: '',\n    rol: '',\n    color: ''\n  });\n  const [eventName, setEventName] = useState('');\n  const [isCameraVisible, setIsCameraVisible] = useState(true);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isEntry, setIsEntry] = useState(true);\n  const isRequestInProgress = useRef(false);\n  useEffect(() => {\n    const fetchEventName = async () => {\n      try {\n        const response = await axios.get(`/api/events/${eventId}`);\n        setEventName(response.data.nombre);\n      } catch (error) {\n        console.error('Error al obtener el nombre del evento:', error);\n        setErrorMessage('No se pudo cargar el nombre del evento.');\n      }\n    };\n    fetchEventName();\n  }, [eventId]);\n  const handleToggleEntry = () => {\n    setIsEntry(prev => !prev);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: 12,\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"app-title\",\n          children: eventName ? `Evento: ${eventName}` : /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 63\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: 12,\n        className: \"mb-2\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: isEntry ? 'primary' : 'danger',\n          onClick: handleToggleEntry,\n          children: isEntry ? 'Entrada' : 'Salida'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center mt-3\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}\n_s(Scanner, \"wamFfu60GtsID4uhi4kSyb6XMrU=\", false, function () {\n  return [useParams];\n});\n_c = Scanner;\nexport default Scanner;\nvar _c;\n$RefreshReg$(_c, \"Scanner\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useParams","BrowserMultiFormatReader","axios","Button","Container","Row","Col","Card","Alert","Spinner","jsxDEV","_jsxDEV","Scanner","_s","eventId","decodedInfo","setDecodedInfo","documentMatch","setDocumentMatch","errorMessage","setErrorMessage","userInfo","setUserInfo","nombre","rol","color","eventName","setEventName","isCameraVisible","setIsCameraVisible","isProcessing","setIsProcessing","isEntry","setIsEntry","isRequestInProgress","fetchEventName","response","get","data","error","console","handleToggleEntry","prev","fluid","className","children","xs","animation","fileName","_jsxFileName","lineNumber","columnNumber","variant","onClick","md","_c","$RefreshReg$"],"sources":["C:/Users/Administrador/source/repos/eventos_sfco/frontend/src/components/Scanner.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { BrowserMultiFormatReader } from '@zxing/library';\r\nimport axios from 'axios';\r\nimport { Button, Container, Row, Col, Card, Alert, Spinner } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '../styles/App.css';\r\n\r\nfunction Scanner() {\r\n    const { eventId } = useParams();\r\n    const [decodedInfo, setDecodedInfo] = useState(null);\r\n    const [documentMatch, setDocumentMatch] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [userInfo, setUserInfo] = useState({ nombre: '', rol: '', color: '' });\r\n    const [eventName, setEventName] = useState('');\r\n    const [isCameraVisible, setIsCameraVisible] = useState(true);\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n    const [isEntry, setIsEntry] = useState(true);\r\n\r\n    const isRequestInProgress = useRef(false);\r\n\r\n    useEffect(() => {\r\n        const fetchEventName = async () => {\r\n            try {\r\n                const response = await axios.get(`/api/events/${eventId}`);\r\n                setEventName(response.data.nombre);\r\n            } catch (error) {\r\n                console.error('Error al obtener el nombre del evento:', error);\r\n                setErrorMessage('No se pudo cargar el nombre del evento.');\r\n            }\r\n        };\r\n\r\n        fetchEventName();\r\n    }, [eventId]);\r\n\r\n    const handleToggleEntry = () => {\r\n        setIsEntry(prev => !prev);\r\n    };\r\n\r\n    return (\r\n        <Container fluid className=\"app-container\">\r\n            <Row className=\"justify-content-center text-center\">\r\n                <Col xs={12} className=\"mb-3\">\r\n                    <h2 className=\"app-title\">\r\n                        {eventName ? `Evento: ${eventName}` : <Spinner animation=\"border\" />}\r\n                    </h2>\r\n                </Col>\r\n                <Col xs={12} className=\"mb-2\">\r\n                    <Button\r\n                        variant={isEntry ? 'primary' : 'danger'}\r\n                        onClick={handleToggleEntry}\r\n                    >\r\n                        {isEntry ? 'Entrada' : 'Salida'}\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n\r\n            {errorMessage && (\r\n                <Row className=\"justify-content-center mt-3\">\r\n                    <Col xs={12} md={6}>\r\n                        <Alert variant=\"danger\">{errorMessage}</Alert>\r\n                    </Col>\r\n                </Row>\r\n            )}\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Scanner;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AACvE,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,wBAAwB,QAAQ,gBAAgB;AACzD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,EAAEC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,KAAK,EAAEC,OAAO,QAAQ,iBAAiB;AACnF,OAAO,sCAAsC;AAC7C,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3B,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACf,MAAM;IAAEC;EAAQ,CAAC,GAAGd,SAAS,CAAC,CAAC;EAC/B,MAAM,CAACe,WAAW,EAAEC,cAAc,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACqB,aAAa,EAAEC,gBAAgB,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACuB,YAAY,EAAEC,eAAe,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACyB,QAAQ,EAAEC,WAAW,CAAC,GAAG1B,QAAQ,CAAC;IAAE2B,MAAM,EAAE,EAAE;IAAEC,GAAG,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAG,CAAC,CAAC;EAC5E,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACgC,eAAe,EAAEC,kBAAkB,CAAC,GAAGjC,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACkC,YAAY,EAAEC,eAAe,CAAC,GAAGnC,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACoC,OAAO,EAAEC,UAAU,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAMsC,mBAAmB,GAAGnC,MAAM,CAAC,KAAK,CAAC;EAEzCF,SAAS,CAAC,MAAM;IACZ,MAAMsC,cAAc,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMlC,KAAK,CAACmC,GAAG,CAAC,eAAevB,OAAO,EAAE,CAAC;QAC1Da,YAAY,CAACS,QAAQ,CAACE,IAAI,CAACf,MAAM,CAAC;MACtC,CAAC,CAAC,OAAOgB,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;QAC9DnB,eAAe,CAAC,yCAAyC,CAAC;MAC9D;IACJ,CAAC;IAEDe,cAAc,CAAC,CAAC;EACpB,CAAC,EAAE,CAACrB,OAAO,CAAC,CAAC;EAEb,MAAM2B,iBAAiB,GAAGA,CAAA,KAAM;IAC5BR,UAAU,CAACS,IAAI,IAAI,CAACA,IAAI,CAAC;EAC7B,CAAC;EAED,oBACI/B,OAAA,CAACP,SAAS;IAACuC,KAAK;IAACC,SAAS,EAAC,eAAe;IAAAC,QAAA,gBACtClC,OAAA,CAACN,GAAG;MAACuC,SAAS,EAAC,oCAAoC;MAAAC,QAAA,gBAC/ClC,OAAA,CAACL,GAAG;QAACwC,EAAE,EAAE,EAAG;QAACF,SAAS,EAAC,MAAM;QAAAC,QAAA,eACzBlC,OAAA;UAAIiC,SAAS,EAAC,WAAW;UAAAC,QAAA,EACpBnB,SAAS,GAAG,WAAWA,SAAS,EAAE,gBAAGf,OAAA,CAACF,OAAO;YAACsC,SAAS,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eACNxC,OAAA,CAACL,GAAG;QAACwC,EAAE,EAAE,EAAG;QAACF,SAAS,EAAC,MAAM;QAAAC,QAAA,eACzBlC,OAAA,CAACR,MAAM;UACHiD,OAAO,EAAEpB,OAAO,GAAG,SAAS,GAAG,QAAS;UACxCqB,OAAO,EAAEZ,iBAAkB;UAAAI,QAAA,EAE1Bb,OAAO,GAAG,SAAS,GAAG;QAAQ;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EAELhC,YAAY,iBACTR,OAAA,CAACN,GAAG;MAACuC,SAAS,EAAC,6BAA6B;MAAAC,QAAA,eACxClC,OAAA,CAACL,GAAG;QAACwC,EAAE,EAAE,EAAG;QAACQ,EAAE,EAAE,CAAE;QAAAT,QAAA,eACflC,OAAA,CAACH,KAAK;UAAC4C,OAAO,EAAC,QAAQ;UAAAP,QAAA,EAAE1B;QAAY;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACR;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACM,CAAC;AAEpB;AAACtC,EAAA,CA1DQD,OAAO;EAAA,QACQZ,SAAS;AAAA;AAAAuD,EAAA,GADxB3C,OAAO;AA4DhB,eAAeA,OAAO;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}