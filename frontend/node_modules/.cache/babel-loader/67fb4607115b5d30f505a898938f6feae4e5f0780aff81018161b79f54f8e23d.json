{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrador\\\\source\\\\repos\\\\eventos_sfco\\\\frontend\\\\src\\\\components\\\\LoginModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Modal, Form, Button, Alert } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css'; // Aseg�rate de tener los estilos de bootstrap cargados\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginModal({\n  isOpen,\n  closeModal,\n  onLoginSuccess\n}) {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  // Si el modal no est� abierto, no se renderiza\n  if (!isOpen) return null;\n\n  // Manejar el env�o del formulario\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Llamada a la API de inicio de sesi�n\n    try {\n      const response = await fetch('http://localhost:5000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        // Manejar inicio de sesi�n exitoso\n        console.log('Login exitoso', data);\n        onLoginSuccess(data.user); // Pasa los datos del usuario al contexto\n        closeModal(); // Cerramos el modal\n        setEmail(''); // Limpiar el campo email\n        setPassword(''); // Limpiar el campo password\n        setError(''); // Limpiar posibles errores\n      } else {\n        // Mostrar error\n        setError(data.message || 'Hubo un error en el inicio de sesi�n');\n      }\n    } catch (err) {\n      console.error('Error en la solicitud:', err);\n      setError('Error en la conexi�n');\n    }\n  };\n\n  // Limpiar los campos cuando se cierra el modal sin hacer login\n  const handleCloseModal = () => {\n    closeModal();\n    setEmail(''); // Limpiar el email\n    setPassword(''); // Limpiar la contrase�a\n    setError(''); // Limpiar el error\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: isOpen,\n    onHide: handleCloseModal,\n    centered: true,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"Iniciar Sesi\\uFFFDn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"email\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Correo Electr\\uFFFDnico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"email\",\n            placeholder: \"Ingrese su correo\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"password\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Ingrese su contrase\\uFFFDa\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          className: \"w-100\",\n          children: \"Iniciar Sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n_s(LoginModal, \"Mo0y3DcwABf2JuX2Ot7Vabl3QMk=\");\n_c = LoginModal;\nexport default LoginModal;\nvar _c;\n$RefreshReg$(_c, \"LoginModal\");","map":{"version":3,"names":["React","useState","Modal","Form","Button","Alert","jsxDEV","_jsxDEV","LoginModal","isOpen","closeModal","onLoginSuccess","_s","email","setEmail","password","setPassword","error","setError","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","console","log","user","message","err","handleCloseModal","show","onHide","centered","children","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","onSubmit","Group","className","controlId","Label","Control","type","placeholder","value","onChange","target","required","variant","_c","$RefreshReg$"],"sources":["C:/Users/Administrador/source/repos/eventos_sfco/frontend/src/components/LoginModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Modal, Form, Button, Alert } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css'; // Aseg�rate de tener los estilos de bootstrap cargados\n\nfunction LoginModal({ isOpen, closeModal, onLoginSuccess }) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n\n    // Si el modal no est� abierto, no se renderiza\n    if (!isOpen) return null;\n\n    // Manejar el env�o del formulario\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        // Llamada a la API de inicio de sesi�n\n        try {\n            const response = await fetch('http://localhost:5000/api/login', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ email, password }),\n            });\n\n            const data = await response.json();\n\n            if (response.ok) {\n                // Manejar inicio de sesi�n exitoso\n                console.log('Login exitoso', data);\n                onLoginSuccess(data.user); // Pasa los datos del usuario al contexto\n                closeModal(); // Cerramos el modal\n                setEmail(''); // Limpiar el campo email\n                setPassword(''); // Limpiar el campo password\n                setError(''); // Limpiar posibles errores\n            } else {\n                // Mostrar error\n                setError(data.message || 'Hubo un error en el inicio de sesi�n');\n            }\n        } catch (err) {\n            console.error('Error en la solicitud:', err);\n            setError('Error en la conexi�n');\n        }\n    };\n\n    // Limpiar los campos cuando se cierra el modal sin hacer login\n    const handleCloseModal = () => {\n        closeModal();\n        setEmail(''); // Limpiar el email\n        setPassword(''); // Limpiar la contrase�a\n        setError(''); // Limpiar el error\n    };\n\n    return (\n        <Modal show={isOpen} onHide={handleCloseModal} centered>\n            <Modal.Header closeButton>\n                <Modal.Title>Iniciar Sesi�n</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={handleSubmit}>\n                    <Form.Group className=\"mb-3\" controlId=\"email\">\n                        <Form.Label>Correo Electr�nico</Form.Label>\n                        <Form.Control\n                            type=\"email\"\n                            placeholder=\"Ingrese su correo\"\n                            value={email}\n                            onChange={(e) => setEmail(e.target.value)}\n                            required\n                        />\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\" controlId=\"password\">\n                        <Form.Label>Contrase&ntilde;a</Form.Label>\n                        <Form.Control\n                            type=\"password\"\n                            placeholder=\"Ingrese su contrase�a\"\n                            value={password}\n                            onChange={(e) => setPassword(e.target.value)}\n                            required\n                        />\n                    </Form.Group>\n\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\n\n                    <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\n                        Iniciar Sesi&oacute;n\n                    </Button>\n                </Form>\n            </Modal.Body>\n        </Modal>\n    );\n}\n\nexport default LoginModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}